{% extends "base.html" %} {% block title %} {% endblock %} {% block navigation_buttons %} {% endblock %} {% block nav_message %} Welcome {% endblock %} {% block login_status %}Logged in{% endblock %} {% block content %}
<div class="d-flex flex-row w-75 mx-auto">
    <div id="nugget" data-id="{{nugget.id}}" class="w-75" contenteditable="">{{nugget.truth}}</div>
    <div id="keywordingpanel" class="w-25">
        <div id="manualKwEntry">
            <div class="ui-widget">
                <label for="kwEntry"></label>
                <input class="" type="text" name="kwEntry" id="kwEntry">
            </div>
            <button id="checkAddKwEntry" class="btn btn-primary btn-block btn-lg my-3">
            Add
        </button>
            <span id="errKwEntry">

        </span>
        </div>
        <div id="KwList">
            {% for keyword in nugget.my_keywords %}
            <span class="validKeyword badge bg-secondary">
                <span class="wordContent">{{keyword.word}}</span>
            <button class="btn-close btn-close-white" type="button" aria-label="Close"></button>
            <span class="partOfSpeech"></span>
            <span class="instanceCount ms-2" data-loc="{{keyword.place_in_sentence}}">{{keyword.instance_count}}</span>
            </span>
            {% endfor %}
        </div>
    </div>
    <div id="hypernympanel">
    </div>
</div>
<div id="suggestionspanel" class="mx-5">
    <button id="suggestionsRefreshAll" class="btn btn-primary btn-block btn-lg my-3">
        Suggest replacement words
    </button>
    <div class="row w=100" id="fakeout-suggestions">

    </div>
</div>
<div id="fakeoutpanel" class="mx-5">
    <!-- <input type="text" name="typedNewFakeoutKw" id="typedNewFakeoutKw"> -->
    <div class="ui-widget">
        <label for="typedNewFakeoutKw"></label>
        <input class="" type="text" name="typedNewFakeoutKw" id="typedNewFakeoutKw">
    </div>
    <input type="text" name="typedNewFakeoutWd" id="typedNewFakeoutWd">
    <button id="checkAddFakeoutEntry" class="btn btn-primary btn-block btn-lg my-3">
        Add
    </button>
    <span id="errFakeoutEntry">

    </span>
    <div id="finalizedfakeouts" class="row w-100">
        {% for keyword in nugget.my_keywords %} {% for fakeout in keyword.my_fakeouts %} {% if fakeout.hypernym%}
        <div class="finishedFakeout card col-2" data-keyword="{{keyword.word}}" data-fakeoutword="{{fakeout.fake_word}}" data-loc="{{keyword.place_in_sentence}}" data-hypernym="{{fakeout.hypernym}}" data-instancescount="{{keyword.instance_count}}" data-relationship="{{fakeout.relationship}}">
            <div class="card-body">
                <div class="card-text mb-0 mr-2">Replace {{keyword.word}} with {{fakeout.fake_word}}</div>
                <div class="card-text mb-0">Shared concept is {{fakeout.hypernym}}</div>
                <div class="card-text mb-0">{{keyword.instance_count}}</div>
                <div class="card-text mb-0">Shared relationship: {{fakeout.relationship}}</div>
            </div><button class="btn-close position-absolute top-0 end-0" type="button" aria-label="Close"></button></div>
        {% else %}
        <div class="finishedFakeout card col-2" data-keyword="{{keyword.word}}" data-fakeoutword="{{fakeout.fake_word}}" data-loc="{{keyword.place_in_sentence}}" data-hypernym="" data-instancescount="{{keyword.instance_count}}" data-relationship="">
            <div class="card-body">
                <p class="card-text mb-0">Replace {{keyword.word}} with {{fakeout.fake_word}}</p>
                <p class="card-text mb-0">{{keyword.instance_count}}</p>
            </div><button class="btn-close position-absolute top-0 end-0" type="button" aria-label="Close"></button></div>

        {% endif %} {% endfor %} {% endfor %}

    </div>
    <button id="exampleQuestions" class="btn btn-primary btn-block btn-lg my-3">See Example Questions</button>
</div>
<div id="questions" class="w-75 mx-auto">

</div>

<div id="statistics" class="w-75 mx-auto">

</div>
<div id="finalize" class="mx-5">
    <select name="targetDeck" id="targetDeck">
        <option value=""></option>
    </select>
    <button id="addToDeck" class="btn btn-success btn-block btn-lg my-3">Add to Deck</button>
    <div id="saveToDecks">
        {% if decks %} {% for deck in decks%}
        <span class="deckAdd badge bg-success" id="{{deck.id}}">
            {{deck.name}}
            <button class="btn-close btn-close-white" type="button" aria-label="Close"></button>
        </span> {% endfor %} {% endif %}
    </div>
    <form method="post" id="newnugget_form">
        {{ form.hidden_tag() }}
        <button type="submit" id="saveMe" class="btn btn-primary btn-block btn-lg my-3">Save and close</button>
        <span id="errSaveandClose">

        </span>
    </form>

</div>

{% endblock %} {% block tailscripts %}
<script src="https://unpkg.com/axios/dist/axios.js"></script>
<script src="/static/nuggetcontrol.js"></script>
{% endblock %}